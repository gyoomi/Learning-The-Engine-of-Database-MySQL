## 五、索引和算法
### 1. Innodb概述
1. 类型
   1. B+索引
   2. 全文索引
   3. 哈希索引
2. B+索引并不能找到一个给定键值的具体行。B+索引能够找到的是被查询数据行所在页。然后数据库通过把页读入到内存，在在内存中进行查找，最后得到要查找的数据。
### 2. 数据结构和算法
略
### 3. B+树
略
### 4. B+树索引
1. B+树索引就是B+树在数据库层面的实现
2. B+树索引的高扇出性，所以在数据库中B+树的高度一般为2-4层，所以只需要很少的IO即可查找所查找的数据
3. B+树索引分为聚集索引（Clustered Index）和辅助索引(Secondary Index)
4. 无论是聚集索引还是辅助索引，其底层的数据结构都是B+树。区别是：其叶子节点存放的是否是一整行数据
5. 聚集索引

   就是按照每张表的主键构建一课B+树，同时叶子节点存放的是整张表的行记录数据。也将聚集索引的叶子节点称为数据页。并且叶子节点时间是一个双向链表
6. 辅助索引（非聚集索引）

   叶子节点不包含行记录的全部数据。叶子节点除了包含键值以外，每个节点的所银行还包含一个书签，该书签用来告诉Innodb引擎
   哪里可以找到索引对应的行数据。因此Innodb引擎的辅助索引的书签对应的就是行数据的聚集索引的键。
7. B+树索引的分裂

   B+索引的分裂并不是都是从页的中间开始分裂，这样的话会导致页空间的浪费。如123等等按照顺序插入时这样的情况下。

   通过PAGE_LAST_INSERT、PAGE_DIRECTION、PAGE_N_DIRECTION来决定向左还是向右分裂，同时决定分裂点的记录是哪一个


8. B+树索引的管理

   (1) 创建、添加、查看索引

   (2) Fast Index Creation



























